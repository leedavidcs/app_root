# Migration `20200519184540-change-stock-portfolio-market-value-to-buying-power`

This migration has been generated by leedavidcs at 5/19/2020, 6:45:40 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Order" ALTER COLUMN "status" SET DEFAULT 'Open',
ALTER COLUMN "timeInForce" SET DEFAULT 'Day',
ALTER COLUMN "type" SET DEFAULT 'Market';

ALTER TABLE "public"."StockPortfolio" DROP COLUMN "marketValue",
ADD COLUMN "buyingPower" Decimal(65,30)  NOT NULL DEFAULT 0;

ALTER TABLE "public"."Transaction" ALTER COLUMN "status" SET DEFAULT 'PENDING';
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200518212647-add-time-in-force-to-order..20200519184540-change-stock-portfolio-market-value-to-buying-power
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 generator client {
   provider = "prisma-client-js"
@@ -38,9 +38,9 @@
   name        String
   headers     String[]
   tickers     String[]
   settings    StockPortfolioSettings
-  marketValue Float                  @default(0)
+  buyingPower Float                  @default(0)
   createdAt   DateTime               @default(now())
   updatedAt   DateTime               @updatedAt
   @@unique([userId, name])
```


