# Migration `20200520014820-remove-unnecessary-types`

This migration has been generated by leedavidcs at 5/20/2020, 1:48:20 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Order" ALTER COLUMN "status" SET DEFAULT 'Open',
ALTER COLUMN "timeInForce" SET DEFAULT 'Day',
ALTER COLUMN "type" SET DEFAULT 'Market';

ALTER TABLE "public"."Transaction" ALTER COLUMN "status" SET DEFAULT 'PENDING';
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200520000053-with-dual-side-relations..20200520014820-remove-unnecessary-types
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 generator client {
   provider = "prisma-client-js"
@@ -19,9 +19,8 @@
   timezone        String   @default("America/Los_Angeles")
   balance         Balance
   stripeDetails   StripeDetails?
   stockPortfolios StockPortfolio[]
-  transactions    Transaction[]
   createdAt       DateTime @default(now())
   updatedAt       DateTime @updatedAt
 }
@@ -35,24 +34,20 @@
 //   resizable Boolean @default(true)
 // }
 model StockPortfolio {
-  id                   String                 @id @default(cuid())
-  user                 User                   @relation(fields: [userId], references: [id])
-  userId               String
-  name                 String
-  headers              String[]
-  tickers              String[]
-  settings             StockPortfolioSettings
-  orders               Order[]
-  positions            Position[]
-  stockPortfolioEvents StockPortfolioEvent[]
-  snapshots            Snapshot[]
-  latestSnapshot       LatestSnapshot?
-  webhooks             Webhook[]
-  buyingPower          Float                  @default(0)
-  createdAt            DateTime               @default(now())
-  updatedAt            DateTime               @updatedAt
+  id             String                 @id @default(cuid())
+  user           User                   @relation(fields: [userId], references: [id])
+  userId         String
+  name           String
+  headers        String[]
+  tickers        String[]
+  settings       StockPortfolioSettings
+  snapshots      Snapshot[]
+  latestSnapshot LatestSnapshot?
+  buyingPower    Float                  @default(0)
+  createdAt      DateTime               @default(now())
+  updatedAt      DateTime               @updatedAt
   @@unique([userId, name])
 }
```


