import { Paper } from "@/client/components/paper.component";
import { Meta, Preview, Props, Story } from "@storybook/addon-docs/blocks";
import { useCallback, useState } from "react";
import { TextInput } from ".";

<Meta title="general/inputs/text-input" component={TextInput} />

# TextInput

## Description
A text-input for forms. Provides a wrapper around the native HTMLInputElement, with custom styles
and additional features including validation.

## Props
<Props of={TextInput} />

## StandardStory
export const STANDARD_MAX_INPUT_LENGTH = 5;

<Preview>
	<Story name="standard">
		{() => {
			const [value, setValue] = useState("");
			const [error, setError] = useState(null);
			const onChange = useCallback(({ currentTarget }) => {
				const isValid = currentTarget.value.length < STANDARD_MAX_INPUT_LENGTH;
				setError(isValid ? null : "Text is too long");
				setValue(currentTarget.value);
			}, [setError]);
			return (
				<Paper>
					<TextInput
						label="Text input"
						labelInfo="(Must be fewer than 5 chars)"
						error={error}
						onChange={onChange}
						placeholder="placeholder"
						value={value}
					/>
				</Paper>
			);
		}}
	</Story>
</Preview>
